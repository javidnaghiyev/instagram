{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t(require(\"react\")) : \"function\" == typeof define && define.amd ? define(\"Stories\", [\"React\"], t) : \"object\" == typeof exports ? exports.Stories = t(require(\"react\")) : e.Stories = t(e.React);\n}(this, function (e) {\n  return function (e) {\n    var t = {};\n\n    function r(n) {\n      if (t[n]) return t[n].exports;\n      var o = t[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n      };\n      return e[n].call(o.exports, o, o.exports, r), o.l = !0, o.exports;\n    }\n\n    return r.m = e, r.c = t, r.d = function (e, t, n) {\n      r.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: n\n      });\n    }, r.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, r.t = function (e, t) {\n      if (1 & t && (e = r(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var n = Object.create(null);\n      if (r.r(n), Object.defineProperty(n, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var o in e) r.d(n, o, function (t) {\n        return e[t];\n      }.bind(null, o));\n      return n;\n    }, r.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return r.d(t, \"a\", t), t;\n    }, r.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, r.p = \"\", r(r.s = 7);\n  }([function (t, r) {\n    t.exports = e;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.initialContext = void 0;\n    var o = n(r(0));\n    t.initialContext = {\n      defaultInterval: 4e3,\n      width: 360,\n      height: 640\n    };\n    var i = o.default.createContext(t.initialContext);\n    t.default = i;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.initialContext = void 0;\n    var o = n(r(0));\n    t.initialContext = {\n      stories: []\n    };\n    var i = o.default.createContext(t.initialContext);\n    t.default = i;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var o = n(r(0));\n    t.default = o.default.createContext({\n      currentId: 0,\n      videoDuration: 0,\n      bufferAction: !1,\n      pause: !1,\n      next: function () {}\n    });\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e) {\n      return (n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    var o = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var i = o(r(0)),\n        a = o(r(17));\n\n    t.default = function (e) {\n      var t = e.story,\n          r = e.globalHeader,\n          o = e.children;\n      return i.default.createElement(i.default.Fragment, null, o, t.header && i.default.createElement(\"div\", {\n        style: {\n          position: \"absolute\",\n          left: 12,\n          top: 20,\n          zIndex: 19\n        }\n      }, \"object\" === n(t) ? r ? r(t.header) : i.default.createElement(a.default, {\n        heading: t.header.heading,\n        subheading: t.header.subheading,\n        profileImage: t.header.profileImage\n      }) : null));\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e, t) {\n      return function (e) {\n        if (Array.isArray(e)) return e;\n      }(e) || function (e, t) {\n        if (\"undefined\" == typeof Symbol || !(Symbol.iterator in Object(e))) return;\n        var r = [],\n            n = !0,\n            o = !1,\n            i = void 0;\n\n        try {\n          for (var a, u = e[Symbol.iterator](); !(n = (a = u.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0);\n        } catch (e) {\n          o = !0, i = e;\n        } finally {\n          try {\n            n || null == u.return || u.return();\n          } finally {\n            if (o) throw i;\n          }\n        }\n\n        return r;\n      }(e, t) || function (e, t) {\n        if (!e) return;\n        if (\"string\" == typeof e) return o(e, t);\n        var r = Object.prototype.toString.call(e).slice(8, -1);\n        \"Object\" === r && e.constructor && (r = e.constructor.name);\n        if (\"Map\" === r || \"Set\" === r) return Array.from(e);\n        if (\"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return o(e, t);\n      }(e, t) || function () {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n      }();\n    }\n\n    function o(e, t) {\n      (null == t || t > e.length) && (t = e.length);\n\n      for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];\n\n      return n;\n    }\n\n    var i = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n      void 0 === n && (n = r), Object.defineProperty(e, n, {\n        enumerable: !0,\n        get: function () {\n          return t[r];\n        }\n      });\n    } : function (e, t, r, n) {\n      void 0 === n && (n = r), e[n] = t[r];\n    }),\n        a = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n      Object.defineProperty(e, \"default\", {\n        enumerable: !0,\n        value: t\n      });\n    } : function (e, t) {\n      e.default = t;\n    }),\n        u = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && i(t, e, r);\n      return a(t, e), t;\n    },\n        l = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var c = u(r(0)),\n        f = l(r(18));\n\n    t.default = function (e) {\n      var t = e.story,\n          r = e.action,\n          o = e.customCollapsed,\n          i = e.children,\n          a = n(c.useState(!1), 2),\n          u = a[0],\n          l = a[1],\n          s = f.default;\n      return c.default.createElement(c.default.Fragment, null, i, t.seeMore && c.default.createElement(\"div\", {\n        style: {\n          position: \"absolute\",\n          margin: \"auto\",\n          bottom: u ? \"unset\" : 0,\n          zIndex: 9999,\n          width: \"100%\",\n          height: u ? \"100%\" : \"auto\"\n        }\n      }, c.default.createElement(s, {\n        action: r,\n        toggleMore: function (e) {\n          r(e ? \"pause\" : \"play\"), l(e);\n        },\n        showContent: u,\n        seeMoreContent: t.seeMore,\n        customCollapsed: o || t.seeMoreCollapsed\n      })));\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var o = n(r(0)),\n        i = n(r(16));\n\n    t.default = function () {\n      return o.default.createElement(i.default, null);\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e) {\n      return (n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function o(e, t) {\n      return function (e) {\n        if (Array.isArray(e)) return e;\n      }(e) || function (e, t) {\n        if (\"undefined\" == typeof Symbol || !(Symbol.iterator in Object(e))) return;\n        var r = [],\n            n = !0,\n            o = !1,\n            i = void 0;\n\n        try {\n          for (var a, u = e[Symbol.iterator](); !(n = (a = u.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0);\n        } catch (e) {\n          o = !0, i = e;\n        } finally {\n          try {\n            n || null == u.return || u.return();\n          } finally {\n            if (o) throw i;\n          }\n        }\n\n        return r;\n      }(e, t) || function (e, t) {\n        if (!e) return;\n        if (\"string\" == typeof e) return i(e, t);\n        var r = Object.prototype.toString.call(e).slice(8, -1);\n        \"Object\" === r && e.constructor && (r = e.constructor.name);\n        if (\"Map\" === r || \"Set\" === r) return Array.from(e);\n        if (\"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return i(e, t);\n      }(e, t) || function () {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n      }();\n    }\n\n    function i(e, t) {\n      (null == t || t > e.length) && (t = e.length);\n\n      for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];\n\n      return n;\n    }\n\n    var a = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n      void 0 === n && (n = r), Object.defineProperty(e, n, {\n        enumerable: !0,\n        get: function () {\n          return t[r];\n        }\n      });\n    } : function (e, t, r, n) {\n      void 0 === n && (n = r), e[n] = t[r];\n    }),\n        u = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n      Object.defineProperty(e, \"default\", {\n        enumerable: !0,\n        value: t\n      });\n    } : function (e, t) {\n      e.default = t;\n    }),\n        l = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && a(t, e, r);\n      return u(t, e), t;\n    },\n        c = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.WithSeeMore = t.WithHeader = void 0;\n\n    var f = l(r(0)),\n        s = c(r(8)),\n        d = c(r(1)),\n        y = c(r(2)),\n        p = r(13),\n        h = r(14),\n        m = c(r(4)),\n        v = c(r(5)),\n        b = function (e) {\n      var t = e.renderers ? e.renderers.concat(h.renderers) : h.renderers,\n          r = {\n        width: e.width,\n        height: e.height,\n        loader: e.loader,\n        header: e.header,\n        storyContainerStyles: e.storyContainerStyles,\n        storyStyles: e.storyStyles,\n        loop: e.loop,\n        defaultInterval: e.defaultInterval,\n        isPaused: e.isPaused,\n        currentIndex: e.currentIndex,\n        onStoryStart: e.onStoryStart,\n        onStoryEnd: e.onStoryEnd,\n        onAllStoriesEnd: e.onAllStoriesEnd,\n        keyboardNavigation: e.keyboardNavigation,\n        preventDefault: e.preventDefault\n      },\n          n = o(f.useState({\n        stories: g(e.stories, t)\n      }), 2),\n          i = n[0],\n          a = n[1];\n      return f.useEffect(function () {\n        a({\n          stories: g(e.stories, t)\n        });\n      }, [e.stories, e.renderers]), f.default.createElement(d.default.Provider, {\n        value: r\n      }, f.default.createElement(y.default.Provider, {\n        value: i\n      }, f.default.createElement(s.default, null)));\n    },\n        g = function (e, t) {\n      return e.map(function (e) {\n        var r = {};\n        \"string\" == typeof e ? (r.url = e, r.type = \"image\") : \"object\" === n(e) && (r = Object.assign(r, e));\n        var o = p.getRenderer(r, t);\n        return r.originalContent = r.content, r.content = o, r;\n      });\n    };\n\n    b.defaultProps = {\n      width: 360,\n      height: 640,\n      defaultInterval: 4e3\n    }, t.WithHeader = m.default, t.WithSeeMore = v.default, t.default = b;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e, t) {\n      return function (e) {\n        if (Array.isArray(e)) return e;\n      }(e) || function (e, t) {\n        if (\"undefined\" == typeof Symbol || !(Symbol.iterator in Object(e))) return;\n        var r = [],\n            n = !0,\n            o = !1,\n            i = void 0;\n\n        try {\n          for (var a, u = e[Symbol.iterator](); !(n = (a = u.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0);\n        } catch (e) {\n          o = !0, i = e;\n        } finally {\n          try {\n            n || null == u.return || u.return();\n          } finally {\n            if (o) throw i;\n          }\n        }\n\n        return r;\n      }(e, t) || function (e, t) {\n        if (!e) return;\n        if (\"string\" == typeof e) return o(e, t);\n        var r = Object.prototype.toString.call(e).slice(8, -1);\n        \"Object\" === r && e.constructor && (r = e.constructor.name);\n        if (\"Map\" === r || \"Set\" === r) return Array.from(e);\n        if (\"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return o(e, t);\n      }(e, t) || function () {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n      }();\n    }\n\n    function o(e, t) {\n      (null == t || t > e.length) && (t = e.length);\n\n      for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];\n\n      return n;\n    }\n\n    var i = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n      void 0 === n && (n = r), Object.defineProperty(e, n, {\n        enumerable: !0,\n        get: function () {\n          return t[r];\n        }\n      });\n    } : function (e, t, r, n) {\n      void 0 === n && (n = r), e[n] = t[r];\n    }),\n        a = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n      Object.defineProperty(e, \"default\", {\n        enumerable: !0,\n        value: t\n      });\n    } : function (e, t) {\n      e.default = t;\n    }),\n        u = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && i(t, e, r);\n      return a(t, e), t;\n    },\n        l = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var c = u(r(0)),\n        f = l(r(1)),\n        s = l(r(2)),\n        d = l(r(3)),\n        y = l(r(9)),\n        p = l(r(10));\n\n    t.default = function () {\n      var e = n(c.useState(0), 2),\n          t = e[0],\n          r = e[1],\n          o = n(c.useState(!0), 2),\n          i = o[0],\n          a = o[1],\n          u = n(c.useState(!0), 2),\n          l = u[0],\n          m = u[1],\n          v = n(c.useState(0), 2),\n          b = v[0],\n          g = v[1],\n          _ = c.useRef(),\n          O = c.useRef(!0),\n          j = c.useContext(f.default),\n          S = j.width,\n          w = j.height,\n          x = j.loop,\n          M = j.currentIndex,\n          E = j.isPaused,\n          P = j.keyboardNavigation,\n          A = j.preventDefault,\n          C = j.storyContainerStyles,\n          I = void 0 === C ? {} : C,\n          D = c.useContext(s.default).stories;\n\n      c.useEffect(function () {\n        \"number\" == typeof M && (M >= 0 && M < D.length ? R(function () {\n          return M;\n        }) : console.error(\"Index out of bounds. Current index was set to value more than the length of stories array.\", M));\n      }, [M]), c.useEffect(function () {\n        \"boolean\" == typeof E && a(E);\n      }, [E]), c.useEffect(function () {\n        if (\"undefined\" != typeof window && window.document && \"boolean\" == typeof P && P) return document.addEventListener(\"keydown\", k), function () {\n          document.removeEventListener(\"keydown\", k);\n        };\n      }, [P]), c.useEffect(function () {\n        return function () {\n          O.current = !1;\n        };\n      }, []);\n\n      var k = function (e) {\n        \"ArrowLeft\" === e.key ? z() : \"ArrowRight\" === e.key && B();\n      },\n          T = function (e, t) {\n        a(\"pause\" === e), m(!!t);\n      },\n          R = function (e) {\n        r(e), T(\"pause\", !0);\n      },\n          z = function () {\n        R(function (e) {\n          return e > 0 ? e - 1 : e;\n        });\n      },\n          B = function () {\n        O.current && (x ? W() : U());\n      },\n          W = function () {\n        R(function (e) {\n          return (e + 1) % D.length;\n        });\n      },\n          U = function () {\n        R(function (e) {\n          return e < D.length - 1 ? e + 1 : e;\n        });\n      },\n          H = function (e) {\n        e.preventDefault(), _.current = setTimeout(function () {\n          T(\"pause\");\n        }, 200);\n      },\n          N = function (e) {\n        return function (t) {\n          t.preventDefault(), _.current && clearTimeout(_.current), i ? T(\"play\") : \"next\" === e ? B() : z();\n        };\n      };\n\n      return c.default.createElement(\"div\", {\n        style: Object.assign(Object.assign(Object.assign({}, I), h.container), {\n          width: S,\n          height: w\n        })\n      }, c.default.createElement(d.default.Provider, {\n        value: {\n          bufferAction: l,\n          videoDuration: b,\n          currentId: t,\n          pause: i,\n          next: B\n        }\n      }, c.default.createElement(p.default, null)), c.default.createElement(y.default, {\n        action: T,\n        bufferAction: l,\n        playState: i,\n        story: D[t],\n        getVideoDuration: function (e) {\n          g(1e3 * e);\n        }\n      }), !A && c.default.createElement(\"div\", {\n        style: h.overlay\n      }, c.default.createElement(\"div\", {\n        style: {\n          width: \"50%\",\n          zIndex: 999\n        },\n        onTouchStart: H,\n        onTouchEnd: N(\"previous\"),\n        onMouseDown: H,\n        onMouseUp: N(\"previous\")\n      }), c.default.createElement(\"div\", {\n        style: {\n          width: \"50%\",\n          zIndex: 999\n        },\n        onTouchStart: H,\n        onTouchEnd: N(\"next\"),\n        onMouseDown: H,\n        onMouseUp: N(\"next\")\n      })));\n    };\n\n    var h = {\n      container: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        background: \"#111\",\n        position: \"relative\"\n      },\n      overlay: {\n        position: \"absolute\",\n        height: \"inherit\",\n        width: \"inherit\",\n        display: \"flex\"\n      }\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n      void 0 === n && (n = r), Object.defineProperty(e, n, {\n        enumerable: !0,\n        get: function () {\n          return t[r];\n        }\n      });\n    } : function (e, t, r, n) {\n      void 0 === n && (n = r), e[n] = t[r];\n    }),\n        o = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n      Object.defineProperty(e, \"default\", {\n        enumerable: !0,\n        value: t\n      });\n    } : function (e, t) {\n      e.default = t;\n    }),\n        i = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && n(t, e, r);\n      return o(t, e), t;\n    },\n        a = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var u = i(r(0)),\n        l = a(r(1)),\n        c = {\n      story: {\n        display: \"flex\",\n        position: \"relative\",\n        overflow: \"hidden\",\n        alignItems: \"center\"\n      },\n      storyContent: {\n        width: \"auto\",\n        maxWidth: \"100%\",\n        maxHeight: \"100%\",\n        margin: \"auto\"\n      }\n    };\n\n    t.default = function (e) {\n      var t,\n          r,\n          n = u.useContext(l.default),\n          o = n.width,\n          i = n.height,\n          a = n.loader,\n          f = n.header,\n          s = n.storyStyles,\n          d = function (t, r) {\n        switch (t) {\n          case \"UPDATE_VIDEO_DURATION\":\n            return e.getVideoDuration(r.duration), {\n              ack: \"OK\"\n            };\n        }\n      };\n\n      return u.default.createElement(\"div\", {\n        style: Object.assign(Object.assign({}, c.story), {\n          width: o,\n          height: i\n        })\n      }, (t = e.story.content, r = {\n        width: o,\n        height: i,\n        loader: a,\n        header: f,\n        storyStyles: s\n      }, u.default.createElement(t, {\n        action: e.action,\n        isPaused: e.playState,\n        story: e.story,\n        config: r,\n        messageHandler: d\n      })));\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e, t) {\n      return function (e) {\n        if (Array.isArray(e)) return e;\n      }(e) || function (e, t) {\n        if (\"undefined\" == typeof Symbol || !(Symbol.iterator in Object(e))) return;\n        var r = [],\n            n = !0,\n            o = !1,\n            i = void 0;\n\n        try {\n          for (var a, u = e[Symbol.iterator](); !(n = (a = u.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0);\n        } catch (e) {\n          o = !0, i = e;\n        } finally {\n          try {\n            n || null == u.return || u.return();\n          } finally {\n            if (o) throw i;\n          }\n        }\n\n        return r;\n      }(e, t) || function (e, t) {\n        if (!e) return;\n        if (\"string\" == typeof e) return o(e, t);\n        var r = Object.prototype.toString.call(e).slice(8, -1);\n        \"Object\" === r && e.constructor && (r = e.constructor.name);\n        if (\"Map\" === r || \"Set\" === r) return Array.from(e);\n        if (\"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return o(e, t);\n      }(e, t) || function () {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n      }();\n    }\n\n    function o(e, t) {\n      (null == t || t > e.length) && (t = e.length);\n\n      for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];\n\n      return n;\n    }\n\n    var i = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n      void 0 === n && (n = r), Object.defineProperty(e, n, {\n        enumerable: !0,\n        get: function () {\n          return t[r];\n        }\n      });\n    } : function (e, t, r, n) {\n      void 0 === n && (n = r), e[n] = t[r];\n    }),\n        a = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n      Object.defineProperty(e, \"default\", {\n        enumerable: !0,\n        value: t\n      });\n    } : function (e, t) {\n      e.default = t;\n    }),\n        u = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && i(t, e, r);\n      return a(t, e), t;\n    },\n        l = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var c = u(r(0)),\n        f = l(r(11)),\n        s = l(r(3)),\n        d = l(r(1)),\n        y = l(r(2));\n\n    t.default = function () {\n      var e = n(c.useState(0), 2),\n          t = e[0],\n          r = e[1],\n          o = c.useContext(s.default),\n          i = o.currentId,\n          a = o.next,\n          u = o.videoDuration,\n          l = o.pause,\n          h = c.useContext(d.default),\n          m = h.defaultInterval,\n          v = h.onStoryEnd,\n          b = h.onStoryStart,\n          g = h.onAllStoriesEnd,\n          _ = c.useContext(y.default).stories;\n      c.useEffect(function () {\n        r(0);\n      }, [i, _]), c.useEffect(function () {\n        return l || (O.current = requestAnimationFrame(S)), function () {\n          cancelAnimationFrame(O.current);\n        };\n      }, [i, l]);\n\n      var O = c.useRef(),\n          j = t,\n          S = function e() {\n        0 === j && w(), r(function (e) {\n          var t = E();\n          return j = e + 100 / (t / 1e3 * 60), e + 100 / (t / 1e3 * 60);\n        }), j < 100 ? O.current = requestAnimationFrame(e) : (x(), i === _.length - 1 && M(), cancelAnimationFrame(O.current), a());\n      },\n          w = function () {\n        b && b(i, _[i]);\n      },\n          x = function () {\n        v && v(i, _[i]);\n      },\n          M = function () {\n        g && g(i, _);\n      },\n          E = function () {\n        return \"video\" === _[i].type ? u : \"number\" == typeof _[i].duration ? _[i].duration : m;\n      };\n\n      return c.default.createElement(\"div\", {\n        style: p.progressArr\n      }, _.map(function (e, r) {\n        return c.default.createElement(f.default, {\n          key: r,\n          count: t,\n          width: 1 / _.length,\n          active: r === i ? 1 : r < i ? 2 : 0\n        });\n      }));\n    };\n\n    var p = {\n      progressArr: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        maxWidth: \"100%\",\n        flexWrap: \"row\",\n        position: \"absolute\",\n        width: \"98%\",\n        padding: 5,\n        paddingTop: 7,\n        alignSelf: \"center\",\n        zIndex: 99,\n        filter: \"drop-shadow(0 1px 8px #222)\"\n      }\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n      void 0 === n && (n = r), Object.defineProperty(e, n, {\n        enumerable: !0,\n        get: function () {\n          return t[r];\n        }\n      });\n    } : function (e, t, r, n) {\n      void 0 === n && (n = r), e[n] = t[r];\n    }),\n        o = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n      Object.defineProperty(e, \"default\", {\n        enumerable: !0,\n        value: t\n      });\n    } : function (e, t) {\n      e.default = t;\n    }),\n        i = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && n(t, e, r);\n      return o(t, e), t;\n    },\n        a = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var u = i(r(0)),\n        l = a(r(12)),\n        c = a(r(3));\n\n    t.default = function (e) {\n      var t = u.useContext(c.default),\n          r = t.bufferAction,\n          n = t.pause,\n          o = e.width,\n          i = e.active;\n      return u.default.createElement(l.default, {\n        width: o,\n        pause: n,\n        bufferAction: r\n      }, u.default.createElement(\"div\", {\n        style: Object.assign(Object.assign({}, function (t) {\n          switch (t.active) {\n            case 2:\n              return {\n                width: \"100%\"\n              };\n\n            case 1:\n              return {\n                transform: \"scaleX(\".concat(e.count / 100, \")\")\n              };\n\n            case 0:\n            default:\n              return {\n                width: 0\n              };\n          }\n        }({\n          active: i\n        })), f.inner)\n      }));\n    };\n\n    var f = {\n      inner: {\n        background: \"#fff\",\n        height: \"100%\",\n        maxWidth: \"100%\",\n        borderRadius: 2,\n        transformOrigin: \"center left\",\n        WebkitBackfaceVisibility: \"hidden\",\n        MozBackfaceVisibility: \"hidden\",\n        msBackfaceVisibility: \"hidden\",\n        backfaceVisibility: \"hidden\",\n        WebkitPerspective: 1e3,\n        MozPerspective: 1e3,\n        msPerspective: 1e3,\n        perspective: 1e3\n      }\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(r(0)),\n        i = function (e) {\n      var t = e.width,\n          r = e.pause,\n          n = e.bufferAction;\n      return {\n        width: \"\".concat(100 * t, \"%\"),\n        opacity: r && !n ? 0 : 1\n      };\n    },\n        a = {\n      progress: {\n        height: 2,\n        maxWidth: \"100%\",\n        background: \"#555\",\n        margin: 2,\n        borderRadius: 2,\n        transition: \"opacity 400ms ease-in-out\"\n      }\n    };\n\n    t.default = function (e) {\n      return o.default.createElement(\"div\", {\n        style: Object.assign(Object.assign({}, a.progress), i(e))\n      }, e.children);\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.getRenderer = void 0, t.getRenderer = function (e, t) {\n      var r = t.map(function (t) {\n        return Object.assign(Object.assign({}, t), {\n          testerResult: t.tester(e)\n        });\n      }).filter(function (e) {\n        return e.testerResult.condition;\n      });\n      return r.sort(function (e, t) {\n        return t.testerResult.priority - e.testerResult.priority;\n      }), r[0].renderer;\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.renderers = void 0;\n    var o = n(r(15)),\n        i = n(r(19)),\n        a = n(r(20)),\n        u = n(r(21));\n    t.renderers = [o.default, i.default, u.default, a.default];\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e, t) {\n      return function (e) {\n        if (Array.isArray(e)) return e;\n      }(e) || function (e, t) {\n        if (\"undefined\" == typeof Symbol || !(Symbol.iterator in Object(e))) return;\n        var r = [],\n            n = !0,\n            o = !1,\n            i = void 0;\n\n        try {\n          for (var a, u = e[Symbol.iterator](); !(n = (a = u.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0);\n        } catch (e) {\n          o = !0, i = e;\n        } finally {\n          try {\n            n || null == u.return || u.return();\n          } finally {\n            if (o) throw i;\n          }\n        }\n\n        return r;\n      }(e, t) || function (e, t) {\n        if (!e) return;\n        if (\"string\" == typeof e) return o(e, t);\n        var r = Object.prototype.toString.call(e).slice(8, -1);\n        \"Object\" === r && e.constructor && (r = e.constructor.name);\n        if (\"Map\" === r || \"Set\" === r) return Array.from(e);\n        if (\"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return o(e, t);\n      }(e, t) || function () {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n      }();\n    }\n\n    function o(e, t) {\n      (null == t || t > e.length) && (t = e.length);\n\n      for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];\n\n      return n;\n    }\n\n    var i = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n      void 0 === n && (n = r), Object.defineProperty(e, n, {\n        enumerable: !0,\n        get: function () {\n          return t[r];\n        }\n      });\n    } : function (e, t, r, n) {\n      void 0 === n && (n = r), e[n] = t[r];\n    }),\n        a = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n      Object.defineProperty(e, \"default\", {\n        enumerable: !0,\n        value: t\n      });\n    } : function (e, t) {\n      e.default = t;\n    }),\n        u = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && i(t, e, r);\n      return a(t, e), t;\n    },\n        l = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.tester = t.renderer = void 0;\n    var c = u(r(0)),\n        f = l(r(6)),\n        s = l(r(4)),\n        d = l(r(5));\n\n    t.renderer = function (e) {\n      var t = e.story,\n          r = e.action,\n          o = (e.isPaused, e.config),\n          i = n(c.useState(!1), 2),\n          a = i[0],\n          u = i[1],\n          l = o.width,\n          p = o.height,\n          h = o.loader,\n          m = o.storyStyles,\n          v = Object.assign(Object.assign({}, y.storyContent), m || {});\n      return c.createElement(s.default, {\n        story: t,\n        globalHeader: o.header\n      }, c.createElement(d.default, {\n        story: t,\n        action: r\n      }, c.createElement(\"div\", null, c.createElement(\"img\", {\n        style: v,\n        src: t.url,\n        onLoad: function () {\n          u(!0), r(\"play\");\n        }\n      }), !a && c.createElement(\"div\", {\n        style: {\n          width: l,\n          height: p,\n          position: \"absolute\",\n          left: 0,\n          top: 0,\n          background: \"rgba(0, 0, 0, 0.9)\",\n          zIndex: 9,\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          color: \"#ccc\"\n        }\n      }, h || c.createElement(f.default, null)))));\n    };\n\n    var y = {\n      story: {\n        display: \"flex\",\n        position: \"relative\",\n        overflow: \"hidden\"\n      },\n      storyContent: {\n        width: \"auto\",\n        maxWidth: \"100%\",\n        maxHeight: \"100%\",\n        margin: \"auto\"\n      }\n    };\n    t.tester = function (e) {\n      return {\n        condition: !(e.content || e.type && \"image\" !== e.type),\n        priority: 2\n      };\n    }, t.default = {\n      renderer: t.renderer,\n      tester: t.tester\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    r.r(t);\n    var n = r(0),\n        o = r.n(n);\n\n    function i() {\n      return (i = Object.assign || function (e) {\n        for (var t = 1; t < arguments.length; t++) {\n          var r = arguments[t];\n\n          for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);\n        }\n\n        return e;\n      }).apply(this, arguments);\n    }\n\n    function a(e, t) {\n      if (null == e) return {};\n\n      var r,\n          n,\n          o = function (e, t) {\n        if (null == e) return {};\n        var r,\n            n,\n            o = {},\n            i = Object.keys(e);\n\n        for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) >= 0 || (o[r] = e[r]);\n\n        return o;\n      }(e, t);\n\n      if (Object.getOwnPropertySymbols) {\n        var i = Object.getOwnPropertySymbols(e);\n\n        for (n = 0; n < i.length; n++) r = i[n], t.indexOf(r) >= 0 || Object.prototype.propertyIsEnumerable.call(e, r) && (o[r] = e[r]);\n      }\n\n      return o;\n    }\n\n    t.default = function (e) {\n      e.styles;\n      var t = a(e, [\"styles\"]);\n      return o.a.createElement(\"svg\", i({\n        width: \"44\",\n        height: \"44\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        stroke: \"#fff\"\n      }, t), o.a.createElement(\"g\", {\n        fill: \"none\",\n        fillRule: \"evenodd\",\n        strokeWidth: \"2\"\n      }, o.a.createElement(\"circle\", {\n        cx: \"22\",\n        cy: \"22\",\n        r: \"1\"\n      }, o.a.createElement(\"animate\", {\n        attributeName: \"r\",\n        begin: \"0s\",\n        dur: \"1.8s\",\n        values: \"1; 20\",\n        calcMode: \"spline\",\n        keyTimes: \"0; 1\",\n        keySplines: \"0.165, 0.84, 0.44, 1\",\n        repeatCount: \"indefinite\"\n      }), o.a.createElement(\"animate\", {\n        attributeName: \"stroke-opacity\",\n        begin: \"0s\",\n        dur: \"1.8s\",\n        values: \"1; 0\",\n        calcMode: \"spline\",\n        keyTimes: \"0; 1\",\n        keySplines: \"0.3, 0.61, 0.355, 1\",\n        repeatCount: \"indefinite\"\n      })), o.a.createElement(\"circle\", {\n        cx: \"22\",\n        cy: \"22\",\n        r: \"1\"\n      }, o.a.createElement(\"animate\", {\n        attributeName: \"r\",\n        begin: \"-0.9s\",\n        dur: \"1.8s\",\n        values: \"1; 20\",\n        calcMode: \"spline\",\n        keyTimes: \"0; 1\",\n        keySplines: \"0.165, 0.84, 0.44, 1\",\n        repeatCount: \"indefinite\"\n      }), o.a.createElement(\"animate\", {\n        attributeName: \"stroke-opacity\",\n        begin: \"-0.9s\",\n        dur: \"1.8s\",\n        values: \"1; 0\",\n        calcMode: \"spline\",\n        keyTimes: \"0; 1\",\n        keySplines: \"0.3, 0.61, 0.355, 1\",\n        repeatCount: \"indefinite\"\n      }))));\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var o = n(r(0)),\n        i = {\n      main: {\n        display: \"flex\",\n        alignItems: \"center\"\n      },\n      img: {\n        width: 40,\n        height: 40,\n        borderRadius: 40,\n        marginRight: 10,\n        filter: \"drop-shadow(0 0px 2px rgba(0, 0, 0, 0.5))\",\n        border: \"2px solid rgba(255, 255, 255, 0.8)\"\n      },\n      text: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        filter: \"drop-shadow(0 0px 3px rgba(0, 0, 0, 0.9))\"\n      },\n      heading: {\n        fontSize: \"1rem\",\n        color: \"rgba(255, 255, 255, 0.9)\",\n        margin: 0,\n        marginBottom: 2\n      },\n      subheading: {\n        fontSize: \"0.6rem\",\n        color: \"rgba(255, 255, 255, 0.8)\",\n        margin: 0\n      }\n    };\n\n    t.default = function (e) {\n      var t = e.profileImage,\n          r = e.heading,\n          n = e.subheading;\n      return o.default.createElement(\"div\", {\n        style: i.main\n      }, t && o.default.createElement(\"img\", {\n        style: i.img,\n        src: t\n      }), o.default.createElement(\"span\", {\n        style: i.text\n      }, o.default.createElement(\"p\", {\n        style: i.heading\n      }, r), o.default.createElement(\"p\", {\n        style: i.subheading\n      }, n)));\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n      void 0 === n && (n = r), Object.defineProperty(e, n, {\n        enumerable: !0,\n        get: function () {\n          return t[r];\n        }\n      });\n    } : function (e, t, r, n) {\n      void 0 === n && (n = r), e[n] = t[r];\n    }),\n        o = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n      Object.defineProperty(e, \"default\", {\n        enumerable: !0,\n        value: t\n      });\n    } : function (e, t) {\n      e.default = t;\n    }),\n        i = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && n(t, e, r);\n      return o(t, e), t;\n    },\n        a = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var u = i(r(0)),\n        l = a(r(1));\n\n    t.default = function (e) {\n      var t = e.seeMoreContent,\n          r = e.customCollapsed,\n          n = u.useContext(l.default).keyboardNavigation;\n      u.useEffect(function () {\n        if (\"undefined\" != typeof window && window.document && \"boolean\" == typeof n && n) return document.addEventListener(\"keydown\", o), function () {\n          document.removeEventListener(\"keydown\", o);\n        };\n      }, [n]);\n\n      var o = function (t) {\n        \"ArrowUp\" === t.key ? (t.preventDefault(), e.toggleMore(!0)) : \"ArrowDown\" !== t.key && \"Escape\" !== t.key || (t.preventDefault(), e.toggleMore(!1));\n      };\n\n      return e.showContent ? u.default.createElement(\"div\", {\n        style: c.seeMoreExpanded\n      }, u.default.createElement(t, {\n        close: function () {\n          return e.toggleMore(!1);\n        }\n      })) : r ? u.default.createElement(r, {\n        action: e.action,\n        toggleMore: e.toggleMore\n      }) : u.default.createElement(\"div\", {\n        style: c.seeMore,\n        onClick: function (t) {\n          t.preventDefault(), t.stopPropagation(), e.toggleMore(!0);\n        }\n      }, u.default.createElement(\"span\", {\n        style: c.seeMoreIcon\n      }, \"âŒƒ\"), u.default.createElement(\"span\", {\n        style: c.seeMoreText\n      }, \"See more\"));\n    };\n\n    var c = {\n      seeMore: {\n        height: \"10vh\",\n        background: \"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.2))\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        bottom: 0\n      },\n      seeMoreExpanded: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        width: \"100%\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        zIndex: 99999\n      },\n      seeMoreText: {\n        color: \"white\",\n        textAlign: \"center\",\n        letterSpacing: \"0.1em\",\n        marginBottom: \"2.2vh\",\n        textTransform: \"capitalize\",\n        opacity: \"1\",\n        fontSize: \"0.8em\",\n        transition: \"opacity 300ms ease-in-out\"\n      },\n      seeMoreIcon: {\n        color: \"white\",\n        textAlign: \"center\",\n        letterSpacing: \"0.2em\",\n        marginBottom: \"0.4vh\",\n        opacity: \"1\",\n        filter: \"drop-shadow(0 0 5px black)\",\n        textTransform: \"capitalize\",\n        transition: \"opacity 300ms ease-in-out\"\n      },\n      seeMoreClose: {\n        position: \"absolute\",\n        filter: \"drop-shadow(0 3px 2px #ccc)\",\n        right: \"0.5rem\",\n        top: \"0.5rem\",\n        fontSize: \"1.5rem\",\n        opacity: \"0.7\",\n        padding: \"1rem\"\n      }\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    function n(e, t) {\n      return function (e) {\n        if (Array.isArray(e)) return e;\n      }(e) || function (e, t) {\n        if (\"undefined\" == typeof Symbol || !(Symbol.iterator in Object(e))) return;\n        var r = [],\n            n = !0,\n            o = !1,\n            i = void 0;\n\n        try {\n          for (var a, u = e[Symbol.iterator](); !(n = (a = u.next()).done) && (r.push(a.value), !t || r.length !== t); n = !0);\n        } catch (e) {\n          o = !0, i = e;\n        } finally {\n          try {\n            n || null == u.return || u.return();\n          } finally {\n            if (o) throw i;\n          }\n        }\n\n        return r;\n      }(e, t) || function (e, t) {\n        if (!e) return;\n        if (\"string\" == typeof e) return o(e, t);\n        var r = Object.prototype.toString.call(e).slice(8, -1);\n        \"Object\" === r && e.constructor && (r = e.constructor.name);\n        if (\"Map\" === r || \"Set\" === r) return Array.from(e);\n        if (\"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return o(e, t);\n      }(e, t) || function () {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n      }();\n    }\n\n    function o(e, t) {\n      (null == t || t > e.length) && (t = e.length);\n\n      for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];\n\n      return n;\n    }\n\n    var i = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n      void 0 === n && (n = r), Object.defineProperty(e, n, {\n        enumerable: !0,\n        get: function () {\n          return t[r];\n        }\n      });\n    } : function (e, t, r, n) {\n      void 0 === n && (n = r), e[n] = t[r];\n    }),\n        a = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n      Object.defineProperty(e, \"default\", {\n        enumerable: !0,\n        value: t\n      });\n    } : function (e, t) {\n      e.default = t;\n    }),\n        u = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && i(t, e, r);\n      return a(t, e), t;\n    },\n        l = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.tester = t.renderer = void 0;\n    var c = u(r(0)),\n        f = l(r(6)),\n        s = l(r(4)),\n        d = l(r(5));\n\n    t.renderer = function (e) {\n      var t = e.story,\n          r = e.action,\n          o = e.isPaused,\n          i = e.config,\n          a = e.messageHandler,\n          u = n(c.useState(!1), 2),\n          l = u[0],\n          p = u[1],\n          h = n(c.useState(!1), 2),\n          m = h[0],\n          v = h[1],\n          b = i.width,\n          g = i.height,\n          _ = i.loader,\n          O = i.storyStyles,\n          j = Object.assign(Object.assign({}, y.storyContent), O || {}),\n          S = c.useRef(null);\n      c.useEffect(function () {\n        S.current && (o ? S.current.pause() : S.current.play().catch(function () {}));\n      }, [o]);\n      return c.createElement(s.default, {\n        story: t,\n        globalHeader: i.header\n      }, c.createElement(d.default, {\n        story: t,\n        action: r\n      }, c.createElement(\"div\", {\n        style: y.videoContainer\n      }, c.createElement(\"video\", {\n        ref: S,\n        style: j,\n        src: t.url,\n        controls: !1,\n        onLoadedData: function () {\n          a(\"UPDATE_VIDEO_DURATION\", {\n            duration: S.current.duration\n          }), p(!0), S.current.play().then(function () {\n            r(\"play\");\n          }).catch(function () {\n            v(!0), S.current.play().finally(function () {\n              r(\"play\");\n            });\n          });\n        },\n        playsInline: !0,\n        onWaiting: function () {\n          r(\"pause\", !0);\n        },\n        onPlaying: function () {\n          r(\"play\", !0);\n        },\n        muted: m,\n        autoPlay: !0,\n        \"webkit-playsinline\": \"true\"\n      }), !l && c.createElement(\"div\", {\n        style: {\n          width: b,\n          height: g,\n          position: \"absolute\",\n          left: 0,\n          top: 0,\n          background: \"rgba(0, 0, 0, 0.9)\",\n          zIndex: 9,\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          color: \"#ccc\"\n        }\n      }, _ || c.createElement(f.default, null)))));\n    };\n\n    var y = {\n      storyContent: {\n        width: \"auto\",\n        maxWidth: \"100%\",\n        maxHeight: \"100%\",\n        margin: \"auto\"\n      },\n      videoContainer: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n      }\n    };\n    t.tester = function (e) {\n      return {\n        condition: \"video\" === e.type,\n        priority: 2\n      };\n    }, t.default = {\n      renderer: t.renderer,\n      tester: t.tester\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n      void 0 === n && (n = r), Object.defineProperty(e, n, {\n        enumerable: !0,\n        get: function () {\n          return t[r];\n        }\n      });\n    } : function (e, t, r, n) {\n      void 0 === n && (n = r), e[n] = t[r];\n    }),\n        o = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n      Object.defineProperty(e, \"default\", {\n        enumerable: !0,\n        value: t\n      });\n    } : function (e, t) {\n      e.default = t;\n    }),\n        i = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && n(t, e, r);\n      return o(t, e), t;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.tester = t.renderer = void 0;\n    var a = i(r(0));\n\n    t.renderer = function (e) {\n      var t = e.story,\n          r = e.action;\n      return a.useEffect(function () {\n        r(\"play\");\n      }, [t]), a.createElement(\"div\", {\n        style: u.storyContent\n      }, a.createElement(\"p\", {\n        style: u.text\n      }, \"This story could not be loaded.\"));\n    };\n\n    var u = {\n      storyContent: {\n        width: \"100%\",\n        maxHeight: \"100%\",\n        margin: \"auto\"\n      },\n      text: {\n        textAlign: \"center\",\n        color: \"white\",\n        width: \"90%\",\n        margin: \"auto\"\n      }\n    };\n    t.tester = function () {\n      return {\n        condition: !0,\n        priority: 1\n      };\n    }, t.default = {\n      renderer: t.renderer,\n      tester: t.tester\n    };\n  }, function (e, t, r) {\n    \"use strict\";\n\n    var n = this && this.__createBinding || (Object.create ? function (e, t, r, n) {\n      void 0 === n && (n = r), Object.defineProperty(e, n, {\n        enumerable: !0,\n        get: function () {\n          return t[r];\n        }\n      });\n    } : function (e, t, r, n) {\n      void 0 === n && (n = r), e[n] = t[r];\n    }),\n        o = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n      Object.defineProperty(e, \"default\", {\n        enumerable: !0,\n        value: t\n      });\n    } : function (e, t) {\n      e.default = t;\n    }),\n        i = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var r in e) \"default\" !== r && Object.hasOwnProperty.call(e, r) && n(t, e, r);\n      return o(t, e), t;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.tester = t.renderer = void 0;\n    var a = i(r(0));\n    t.renderer = function (e) {\n      a.useEffect(function () {\n        e.action(\"play\");\n      }, [e.story]);\n      var t = e.story.originalContent;\n      return a.createElement(t, Object.assign({}, e));\n    }, t.tester = function (e) {\n      return {\n        condition: !!e.content,\n        priority: 2\n      };\n    }, t.default = {\n      renderer: t.renderer,\n      tester: t.tester\n    };\n  }]);\n});","map":{"version":3,"mappings":"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","names":["root","factory","exports","module","require","define","amd","Stories","React","this","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","prototype","hasOwnProperty","p","s","defaultInterval","width","height","GlobalContext","createContext","stories","StoriesContext","currentId","videoDuration","bufferAction","pause","next","a","e","story","globalHeader","children","header","style","position","left","top","zIndex","heading","subheading","profileImage","f","action","customCollapsed","showMore","setShowMore","CollapsedComponent","seeMore","margin","bottom","toggleMore","show","showContent","seeMoreContent","seeMoreCollapsed","y","h","v","ReactInstaStories","props","renderers","concat","context","loader","storyContainerStyles","storyStyles","loop","isPaused","currentIndex","onStoryStart","onStoryEnd","onAllStoriesEnd","keyboardNavigation","preventDefault","generateStories","setStories","Provider","map","url","type","assign","renderer","originalContent","content","defaultProps","setCurrentId","setPause","u","setBufferAction","setVideoDuration","mousedownId","isMounted","j","C","length","setCurrentIdWrapper","console","error","window","document","addEventListener","handleKeyDown","removeEventListener","current","previous","toggleState","callback","prev","updateNextStoryIdForLoop","updateNextStoryId","debouncePause","setTimeout","mouseUp","clearTimeout","styles","container","playState","getVideoDuration","duration","overlay","onTouchStart","onTouchEnd","onMouseDown","onMouseUp","display","flexDirection","background","overflow","alignItems","storyContent","maxWidth","maxHeight","InnerContent","config","globalContext","rendererMessageHandler","data","ack","messageHandler","count","setCount","animationFrameId","requestAnimationFrame","incrementCount","cancelAnimationFrame","countCopy","storyStartCallback","interval","getCurrentInterval","storyEndCallback","allStoriesEndCallback","progressArr","_","active","justifyContent","flexWrap","padding","paddingTop","alignSelf","filter","transform","getProgressStyle","inner","borderRadius","transformOrigin","WebkitBackfaceVisibility","MozBackfaceVisibility","msBackfaceVisibility","backfaceVisibility","WebkitPerspective","MozPerspective","msPerspective","perspective","getProgressWrapperStyle","opacity","progress","transition","probable","testerResult","tester","condition","sort","b","priority","useState","loaded","setLoaded","computedStyles","src","onLoad","color","xmlns","stroke","fill","fillRule","strokeWidth","cx","cy","attributeName","begin","dur","values","calcMode","keyTimes","keySplines","repeatCount","main","img","marginRight","border","text","fontSize","marginBottom","SeeMoreContent","CustomCollapsed","seeMoreExpanded","close","onClick","stopPropagation","seeMoreIcon","seeMoreText","boxSizing","textAlign","letterSpacing","textTransform","seeMoreClose","right","muted","setMuted","vid","useRef","useEffect","play","videoContainer","ref","controls","onLoadedData","then","playsInline","onWaiting","onPlaying","autoPlay","Content"],"sources":["webpack://Stories/webpack/universalModuleDefinition","webpack://Stories/webpack/bootstrap","webpack://Stories/external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"React\",\"root\":\"React\"}","webpack://Stories/src/context/Global.ts","webpack://Stories/src/context/Stories.ts","webpack://Stories/src/context/Progress.ts","webpack://Stories/src/renderers/wrappers/withHeader.tsx","webpack://Stories/src/renderers/wrappers/withSeeMore.tsx","webpack://Stories/src/components/Spinner.tsx","webpack://Stories/src/index.tsx","webpack://Stories/src/components/Container.tsx","webpack://Stories/src/components/Story.tsx","webpack://Stories/src/components/ProgressArray.tsx","webpack://Stories/src/components/Progress.tsx","webpack://Stories/src/components/ProgressWrapper.tsx","webpack://Stories/src/util/renderers.tsx","webpack://Stories/src/renderers/index.ts","webpack://Stories/src/renderers/Image.tsx","webpack://Stories/src/assets/puff.svg","webpack://Stories/src/components/Header.tsx","webpack://Stories/src/components/SeeMore.tsx","webpack://Stories/src/renderers/Video.tsx","webpack://Stories/src/renderers/Default.tsx","webpack://Stories/src/renderers/AutoPlayContent.tsx"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Stories\", [\"React\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Stories\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"Stories\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","import React from 'react';\nimport { GlobalCtx } from '../interfaces';\n\nexport const initialContext = {\n\tdefaultInterval: 4000,\n\twidth: 360,\n\theight: 640,\n};\n\nconst GlobalContext = React.createContext<GlobalCtx>(initialContext);\n\nexport default GlobalContext;\n","import React from 'react';\nimport {\n\tStoriesContext as StoriesContextInterface,\n\tStory,\n} from '../interfaces';\n\nexport const initialContext: { stories: Story[] } = {\n\tstories: [],\n};\n\nconst StoriesContext = React.createContext<StoriesContextInterface>(\n\tinitialContext\n);\n\nexport default StoriesContext;\n","import React from 'react'\nimport { ProgressContext } from './../interfaces'\n\nexport default React.createContext<ProgressContext>({\n    currentId: 0,\n    videoDuration: 0,\n    bufferAction: false,\n    pause: false,\n    next: () => { }\n})","import React from 'react';\nimport { Story } from '../../interfaces';\nimport Header from \"./../../components/Header\";\n\nconst withHeader: React.FC<{ story: Story, globalHeader: Function }> = ({ story, globalHeader, children }) => {\n    return <>\n        {children}\n        {story.header && (\n            <div style={{ position: \"absolute\", left: 12, top: 20, zIndex: 19 }}>\n                {typeof story === \"object\" ? (\n                    globalHeader ? (\n                        globalHeader(story.header)\n                    ) : (\n                            <Header\n                                heading={story.header.heading}\n                                subheading={story.header.subheading}\n                                profileImage={story.header.profileImage}\n                            />\n                        )\n                ) : null}\n            </div>\n        )}\n    </>\n}\n\nexport default withHeader;","import React, { ComponentType, useState } from 'react';\nimport { Action, SeeMoreProps, Story } from '../../interfaces';\nimport SeeMore from \"./../../components/SeeMore\";\n\nconst withSeeMore: React.FC<{\n    story: Story,\n    action: Action,\n    customCollapsed?: SeeMoreProps[\"customCollapsed\"]\n}> = ({ story, action, customCollapsed, children }) => {\n    const [showMore, setShowMore] = useState(false);\n    const toggleMore = (show) => {\n        action(show ? 'pause' : 'play');\n        setShowMore(show);\n    }\n    const CollapsedComponent = SeeMore;\n    return <>\n        {children}\n        {story.seeMore && (\n            <div\n                style={{\n                    position: \"absolute\",\n                    margin: \"auto\",\n                    bottom: showMore ? 'unset' : 0,\n                    zIndex: 9999,\n                    width: \"100%\",\n                    height: showMore ? '100%' : 'auto'\n                }}\n            >\n                <CollapsedComponent\n                    action={action}\n                    toggleMore={toggleMore}\n                    showContent={showMore}\n                    seeMoreContent={story.seeMore}\n                    customCollapsed={customCollapsed || story.seeMoreCollapsed}\n                />\n            </div>\n        )}\n    </>\n}\n\nexport default withSeeMore;","import React from 'react';\nimport SpinnerSVG from './../assets/puff.svg';\n\nconst Spinner = () => {\n    return <SpinnerSVG />\n}\n\nexport default Spinner;","import React, { useEffect, useState } from 'react'\nimport { ReactInstaStoriesProps, GlobalCtx, Story, Tester, Renderer } from './interfaces'\nimport Container from './components/Container'\nimport GlobalContext from './context/Global'\nimport StoriesContext from './context/Stories';\nimport { getRenderer } from './util/renderers'\nimport { renderers as defaultRenderers } from './renderers/index';\nimport withHeader from './renderers/wrappers/withHeader'\nimport withSeeMore from './renderers/wrappers/withSeeMore'\n\nconst ReactInstaStories = function (props: ReactInstaStoriesProps) {\n    let renderers = props.renderers ? props.renderers.concat(defaultRenderers) : defaultRenderers;\n    let context: GlobalCtx = {\n        width: props.width,\n        height: props.height,\n        loader: props.loader,\n        header: props.header,\n        storyContainerStyles: props.storyContainerStyles,\n        storyStyles: props.storyStyles,\n        loop: props.loop,\n        defaultInterval: props.defaultInterval,\n        isPaused: props.isPaused,\n        currentIndex: props.currentIndex,\n        onStoryStart: props.onStoryStart,\n        onStoryEnd: props.onStoryEnd,\n        onAllStoriesEnd: props.onAllStoriesEnd,\n        keyboardNavigation: props.keyboardNavigation,\n        preventDefault: props.preventDefault\n    }\n    const [stories, setStories] = useState<{ stories: Story[] }>({ stories: generateStories(props.stories, renderers) });\n    useEffect(() => {\n        setStories({ stories: generateStories(props.stories, renderers) });\n    }, [props.stories, props.renderers]);\n\n    return <GlobalContext.Provider value={context}>\n        <StoriesContext.Provider value={stories}>\n            <Container />\n        </StoriesContext.Provider>\n    </GlobalContext.Provider>\n}\n\nconst generateStories = (stories: Story[], renderers: { renderer: Renderer, tester: Tester }[]) => {\n    return stories.map(s => {\n        let story: Story = {};\n\n        if (typeof s === 'string') {\n            story.url = s;\n            story.type = 'image';\n        } else if (typeof s === 'object') {\n            story = Object.assign(story, s);\n        }\n\n        let renderer = getRenderer(story, renderers);\n        story.originalContent = story.content;\n        story.content = renderer;\n        return story\n    })\n};\n\nReactInstaStories.defaultProps = {\n    width: 360,\n    height: 640,\n    defaultInterval: 4000\n}\n\nexport const WithHeader = withHeader;\nexport const WithSeeMore = withSeeMore;\n\nexport default ReactInstaStories","import React, { useContext, useState, useRef, useEffect } from 'react'\nimport GlobalContext from './../context/Global'\nimport StoriesContext from './../context/Stories'\nimport ProgressContext from './../context/Progress'\nimport Story from './Story'\nimport ProgressArray from './ProgressArray'\nimport { GlobalCtx, StoriesContext as StoriesContextInterface } from './../interfaces'\n\nexport default function () {\n    const [currentId, setCurrentId] = useState<number>(0)\n    const [pause, setPause] = useState<boolean>(true)\n    const [bufferAction, setBufferAction] = useState<boolean>(true)\n    const [videoDuration, setVideoDuration] = useState<number>(0)\n\n    let mousedownId = useRef<any>();\n    let isMounted = useRef<boolean>(true);\n\n    const { width, height, loop, currentIndex, isPaused, keyboardNavigation, preventDefault, storyContainerStyles = {} } = useContext<GlobalCtx>(GlobalContext);\n    const { stories } = useContext<StoriesContextInterface>(StoriesContext);\n\n    useEffect(() => {\n        if (typeof currentIndex === 'number') {\n            if (currentIndex >= 0 && currentIndex < stories.length) {\n                setCurrentIdWrapper(() => currentIndex)\n            } else {\n                console.error('Index out of bounds. Current index was set to value more than the length of stories array.', currentIndex)\n            }\n        }\n    }, [currentIndex])\n\n    useEffect(() => {\n        if (typeof isPaused === 'boolean') {\n            setPause(isPaused)\n        }\n    }, [isPaused])\n\n    useEffect(() => {\n        const isClient = (typeof window !== 'undefined' && window.document);\n        if (isClient && (typeof keyboardNavigation === 'boolean' && keyboardNavigation)) {\n            document.addEventListener(\"keydown\", handleKeyDown);\n            return () => {\n                document.removeEventListener(\"keydown\", handleKeyDown);\n            }\n        }\n    }, [keyboardNavigation]);\n\n    // Cleanup mounted state - for issue #130 (https://github.com/mohitk05/react-insta-stories/issues/130)\n    useEffect(() => {\n        return () => {\n            isMounted.current = false;\n        }\n    }, []);\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n        if (e.key === 'ArrowLeft') {\n            previous()\n        }\n        else if (e.key === 'ArrowRight') {\n            next()\n        }\n    }\n\n    const toggleState = (action: string, bufferAction?: boolean) => {\n        setPause(action === 'pause')\n        setBufferAction(!!bufferAction)\n    }\n\n    const setCurrentIdWrapper = (callback) => {\n        setCurrentId(callback);\n        toggleState('pause', true);\n    }\n\n    const previous = () => {\n        setCurrentIdWrapper(prev => prev > 0 ? prev - 1 : prev)\n    }\n\n    const next = () => {\n        if (isMounted.current) {\n            if (loop) {\n                updateNextStoryIdForLoop()\n            } else {\n                updateNextStoryId()\n            }\n        }\n    };\n\n    const updateNextStoryIdForLoop = () => {\n        setCurrentIdWrapper(prev => (prev + 1) % stories.length)\n    }\n\n    const updateNextStoryId = () => {\n        setCurrentIdWrapper(prev => {\n            if (prev < stories.length - 1) return prev + 1\n            return prev\n        })\n    }\n\n    const debouncePause = (e: React.MouseEvent | React.TouchEvent) => {\n        e.preventDefault()\n        mousedownId.current = setTimeout(() => {\n            toggleState('pause')\n        }, 200)\n    }\n\n    const mouseUp = (type: string) => (e: React.MouseEvent | React.TouchEvent) => {\n        e.preventDefault()\n        mousedownId.current && clearTimeout(mousedownId.current)\n        if (pause) {\n            toggleState('play')\n        } else {\n            type === 'next' ? next() : previous()\n        }\n    }\n\n    const getVideoDuration = (duration: number) => {\n        setVideoDuration(duration * 1000)\n    }\n\n    return (\n        <div style={{ ...storyContainerStyles, ...styles.container, ...{ width, height } }}>\n            <ProgressContext.Provider value={{\n                bufferAction: bufferAction,\n                videoDuration: videoDuration,\n                currentId,\n                pause,\n                next\n            }}>\n                <ProgressArray />\n            </ProgressContext.Provider>\n            <Story\n                action={toggleState}\n                bufferAction={bufferAction}\n                playState={pause}\n                story={stories[currentId]}\n                getVideoDuration={getVideoDuration}\n            />\n            {!preventDefault && <div style={styles.overlay}>\n              <div style={{ width: '50%', zIndex: 999 }} onTouchStart={debouncePause} onTouchEnd={mouseUp('previous')} onMouseDown={debouncePause} onMouseUp={mouseUp('previous')} />\n              <div style={{ width: '50%', zIndex: 999 }} onTouchStart={debouncePause} onTouchEnd={mouseUp('next')} onMouseDown={debouncePause} onMouseUp={mouseUp('next')} />\n            </div>}\n        </div>\n    )\n}\n\nconst styles = {\n    container: {\n        display: 'flex',\n        flexDirection: 'column',\n        background: '#111',\n        position: 'relative'\n    },\n    overlay: {\n        position: 'absolute',\n        height: 'inherit',\n        width: 'inherit',\n        display: 'flex'\n    }\n}","import React, { useContext } from \"react\";\nimport { StoryProps, GlobalCtx } from \"./../interfaces\";\nimport GlobalContext from \"./../context/Global\";\n\nconst Story = (props: StoryProps) => {\n\tconst globalContext = useContext<GlobalCtx>(\n\t\tGlobalContext\n\t);\n\n\tconst { width, height, loader, header, storyStyles } = globalContext;\n\n\tconst rendererMessageHandler = (type: string, data: any) => {\n\t\tswitch (type) {\n\t\t\tcase 'UPDATE_VIDEO_DURATION':\n\t\t\t\tprops.getVideoDuration(data.duration);\n\t\t\t\treturn { ack: 'OK' as 'OK' }\n\t\t}\n\t}\n\n\tconst getStoryContent = () => {\n\t\tlet InnerContent = props.story.content;\n\t\tlet config = { width, height, loader, header, storyStyles };\n\t\treturn <InnerContent\n\t\t\taction={props.action}\n\t\t\tisPaused={props.playState}\n\t\t\tstory={props.story}\n\t\t\tconfig={config}\n\t\t\tmessageHandler={rendererMessageHandler}\n\t\t/>\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tstyle={{ ...styles.story, width: width, height: height }}\n\t\t>\n\t\t\t{getStoryContent()}\n\t\t</div>\n\t);\n};\n\nconst styles = {\n\tstory: {\n\t\tdisplay: \"flex\",\n\t\tposition: \"relative\",\n\t\toverflow: \"hidden\",\n\t\talignItems: \"center\"\n\t},\n\tstoryContent: {\n\t\twidth: \"auto\",\n\t\tmaxWidth: \"100%\",\n\t\tmaxHeight: \"100%\",\n\t\tmargin: \"auto\"\n\t}\n};\n\nexport default Story;\n","import React, { useContext, useState, useEffect, useRef } from 'react'\nimport Progress from './Progress'\nimport { ProgressContext, GlobalCtx, StoriesContext as StoriesContextInterface } from './../interfaces'\nimport ProgressCtx from './../context/Progress'\nimport GlobalContext from './../context/Global'\nimport StoriesContext from './../context/Stories'\n\nexport default () => {\n    const [count, setCount] = useState<number>(0)\n    const { currentId, next, videoDuration, pause } = useContext<ProgressContext>(ProgressCtx)\n    const { defaultInterval, onStoryEnd, onStoryStart, onAllStoriesEnd } = useContext<GlobalCtx>(GlobalContext);\n    const { stories } = useContext<StoriesContextInterface>(StoriesContext);\n\n    useEffect(() => {\n        setCount(0)\n    }, [currentId, stories])\n\n    useEffect(() => {\n        if (!pause) {\n            animationFrameId.current = requestAnimationFrame(incrementCount)\n        }\n        return () => {\n            cancelAnimationFrame(animationFrameId.current)\n        }\n    }, [currentId, pause])\n\n    let animationFrameId = useRef<number>()\n\n    let countCopy = count;\n    const incrementCount = () => {\n        if (countCopy === 0) storyStartCallback()\n        setCount((count: number) => {\n            const interval = getCurrentInterval()\n            countCopy = count + (100 / ((interval / 1000) * 60))\n            return count + (100 / ((interval / 1000) * 60))\n        })\n        if (countCopy < 100) {\n            animationFrameId.current = requestAnimationFrame(incrementCount)\n        } else {\n            storyEndCallback();\n            if (currentId === stories.length - 1) {\n                allStoriesEndCallback();\n            }\n            cancelAnimationFrame(animationFrameId.current);\n            next();\n        }\n    }\n\n    const storyStartCallback = () => {\n        onStoryStart && onStoryStart(currentId, stories[currentId])\n    }\n\n    const storyEndCallback = () => {\n        onStoryEnd && onStoryEnd(currentId, stories[currentId])\n    }\n\n    const allStoriesEndCallback = () => {\n        onAllStoriesEnd && onAllStoriesEnd(currentId, stories)\n    }\n\n    const getCurrentInterval = () => {\n        if (stories[currentId].type === 'video') return videoDuration\n        if (typeof stories[currentId].duration === 'number') return stories[currentId].duration\n        return defaultInterval\n    }\n\n    return (\n        <div style={styles.progressArr}>\n            {stories.map((_, i) =>\n                <Progress\n                    key={i}\n                    count={count}\n                    width={1 / stories.length}\n                    active={i === currentId ? 1 : (i < currentId ? 2 : 0)}\n                />)}\n        </div>\n    )\n}\n\nconst styles = {\n    progressArr: {\n        display: 'flex',\n        justifyContent: 'center',\n        maxWidth: '100%',\n        flexWrap: 'row',\n        position: 'absolute',\n        width: '98%',\n        padding: 5,\n        paddingTop: 7,\n        alignSelf: 'center',\n        zIndex: 99,\n        filter: 'drop-shadow(0 1px 8px #222)'\n    }\n}","import React, { useContext } from 'react'\nimport { ProgressProps, ProgressContext } from './../interfaces'\nimport ProgressWrapper from './ProgressWrapper'\nimport ProgressCtx from './../context/Progress'\n\nexport default (props: ProgressProps) => {\n    const { bufferAction, pause } = useContext<ProgressContext>(ProgressCtx)\n\n    const getProgressStyle = ({ active }) => {\n        switch (active) {\n            case 2:\n                return { width: '100%' }\n            case 1:\n                return { transform: `scaleX(${props.count / 100})` }\n            case 0:\n                return { width: 0 }\n            default:\n                return { width: 0 }\n        }\n    }\n\n    const { width, active } = props\n    return (\n        <ProgressWrapper width={width} pause={pause} bufferAction={bufferAction}>\n            <div\n                style={{ ...getProgressStyle({ active }), ...styles.inner }} />\n        </ProgressWrapper>\n    )\n}\n\nconst styles: any = {\n    inner: {\n        background: '#fff',\n        height: '100%',\n        maxWidth: '100%',\n        borderRadius: 2,\n        transformOrigin: 'center left',\n\n        WebkitBackfaceVisibility: 'hidden',\n        MozBackfaceVisibility: 'hidden',\n        msBackfaceVisibility: 'hidden',\n        backfaceVisibility: 'hidden',\n\n        WebkitPerspective: 1000,\n        MozPerspective: 1000,\n        msPerspective: 1000,\n        perspective: 1000\n    }\n}","import React from 'react'\nimport { ProgressWrapperProps } from './../interfaces'\n\nconst ProgressWrapper = (props: ProgressWrapperProps) => (\n    <div style={{ ...styles.progress, ...getProgressWrapperStyle(props) }}>\n        {props.children}\n    </div>\n)\n\nconst getProgressWrapperStyle = ({ width, pause, bufferAction }) => ({\n    width: `${width * 100}%`,\n    opacity: pause && !bufferAction ? 0 : 1\n})\n\nconst styles = {\n    progress: {\n        height: 2,\n        maxWidth: '100%',\n        background: '#555',\n        margin: 2,\n        borderRadius: 2,\n        transition: 'opacity 400ms ease-in-out'\n    }\n}\n\nexport default ProgressWrapper","import { Renderer, Story, Tester } from \"../interfaces\";\n\nexport const getRenderer = (story: Story, renderers: { renderer: Renderer, tester: Tester }[]): Renderer => {\n    let probable = renderers.map(r => {\n        return {\n            ...r,\n            testerResult: r.tester(story)\n        }\n    }).filter(r => r.testerResult.condition);\n    probable.sort((a, b) => b.testerResult.priority - a.testerResult.priority);\n    return probable[0].renderer;\n}","import image from './Image';\nimport video from './Video';\nimport defaultRenderer from './Default';\nimport autoplayContent from './AutoPlayContent';\n\nexport const renderers = [image, video, autoplayContent, defaultRenderer];\n","import * as React from 'react';\nimport Spinner from '../components/Spinner';\nimport { Renderer, Tester } from './../interfaces';\nimport WithHeader from './wrappers/withHeader';\nimport WithSeeMore from './wrappers/withSeeMore';\n\nexport const renderer: Renderer = ({ story, action, isPaused, config }) => {\n    const [loaded, setLoaded] = React.useState(false);\n    const { width, height, loader, storyStyles } = config;\n    let computedStyles = {\n        ...styles.storyContent,\n        ...(storyStyles || {})\n    }\n\n    const imageLoaded = () => {\n        setLoaded(true);\n        action('play');\n    }\n\n    return <WithHeader story={story} globalHeader={config.header}>\n        <WithSeeMore story={story} action={action}>\n            <div>\n                <img style={computedStyles} src={story.url} onLoad={imageLoaded} />\n                {!loaded && (\n                    <div\n                        style={{\n                            width: width,\n                            height: height,\n                            position: \"absolute\",\n                            left: 0,\n                            top: 0,\n                            background: \"rgba(0, 0, 0, 0.9)\",\n                            zIndex: 9,\n                            display: \"flex\",\n                            justifyContent: \"center\",\n                            alignItems: \"center\",\n                            color: \"#ccc\"\n                        }}\n                    >\n                        {loader || <Spinner />}\n                    </div>\n                )}\n            </div>\n        </WithSeeMore>\n    </WithHeader>\n}\n\nconst styles = {\n    story: {\n        display: \"flex\",\n        position: \"relative\",\n        overflow: \"hidden\"\n    },\n    storyContent: {\n        width: \"auto\",\n        maxWidth: \"100%\",\n        maxHeight: \"100%\",\n        margin: \"auto\"\n    }\n};\n\nexport const tester: Tester = (story) => {\n    return {\n        condition: !story.content && (!story.type || story.type === 'image'),\n        priority: 2\n    }\n}\n\nexport default {\n    renderer,\n    tester\n}","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"44\" height=\"44\" xmlns=\"http://www.w3.org/2000/svg\" stroke=\"#fff\" {...props}><g fill=\"none\" fillRule=\"evenodd\" strokeWidth=\"2\"><circle cx=\"22\" cy=\"22\" r=\"1\"><animate attributeName=\"r\" begin=\"0s\" dur=\"1.8s\" values=\"1; 20\" calcMode=\"spline\" keyTimes=\"0; 1\" keySplines=\"0.165, 0.84, 0.44, 1\" repeatCount=\"indefinite\" /><animate attributeName=\"stroke-opacity\" begin=\"0s\" dur=\"1.8s\" values=\"1; 0\" calcMode=\"spline\" keyTimes=\"0; 1\" keySplines=\"0.3, 0.61, 0.355, 1\" repeatCount=\"indefinite\" /></circle><circle cx=\"22\" cy=\"22\" r=\"1\"><animate attributeName=\"r\" begin=\"-0.9s\" dur=\"1.8s\" values=\"1; 20\" calcMode=\"spline\" keyTimes=\"0; 1\" keySplines=\"0.165, 0.84, 0.44, 1\" repeatCount=\"indefinite\" /><animate attributeName=\"stroke-opacity\" begin=\"-0.9s\" dur=\"1.8s\" values=\"1; 0\" calcMode=\"spline\" keyTimes=\"0; 1\" keySplines=\"0.3, 0.61, 0.355, 1\" repeatCount=\"indefinite\" /></circle></g></svg>);","import React from 'react'\nimport { HeaderProps } from './../interfaces'\n\nconst Header = ({ profileImage, heading, subheading }: HeaderProps) =>\n    <div style={styles.main}>\n        {profileImage && <img style={styles.img} src={profileImage} />}\n        <span style={styles.text}>\n            <p style={styles.heading}>{heading}</p>\n            <p style={styles.subheading}>{subheading}</p>\n        </span>\n    </div>\n\nconst styles = {\n    main: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    img: {\n        width: 40,\n        height: 40,\n        borderRadius: 40,\n        marginRight: 10,\n        filter: 'drop-shadow(0 0px 2px rgba(0, 0, 0, 0.5))',\n        border: '2px solid rgba(255, 255, 255, 0.8)'\n    },\n    text: {\n        display: 'flex',\n        flexDirection: 'column',\n        filter: 'drop-shadow(0 0px 3px rgba(0, 0, 0, 0.9))'\n    },\n    heading: {\n        fontSize: '1rem',\n        color: 'rgba(255, 255, 255, 0.9)',\n        margin: 0,\n        marginBottom: 2\n    },\n    subheading: {\n        fontSize: '0.6rem',\n        color: 'rgba(255, 255, 255, 0.8)',\n        margin: 0\n    }\n}\n\nexport default Header","import React, { useEffect, useContext } from 'react'\nimport GlobalContext from './../context/Global'\nimport { GlobalCtx } from './../interfaces'\nimport { SeeMoreProps } from './../interfaces'\n\nexport default function seeMore(props: SeeMoreProps) {\n    const SeeMoreContent = props.seeMoreContent;\n    const CustomCollapsed = props.customCollapsed;\n\n    const { keyboardNavigation } = useContext<GlobalCtx>(GlobalContext);\n\n    useEffect(() => {\n        const isClient = (typeof window !== 'undefined' && window.document);\n        if (isClient && (typeof keyboardNavigation === 'boolean' && keyboardNavigation)) {\n            document.addEventListener(\"keydown\", handleKeyDown);\n            return () => {\n                document.removeEventListener(\"keydown\", handleKeyDown);\n            }\n        }\n    }, [keyboardNavigation])\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n        if (e.key === 'ArrowUp') {\n            e.preventDefault()\n            props.toggleMore(true)\n        }\n        else if (e.key === 'ArrowDown' || e.key === 'Escape') {\n            e.preventDefault()\n            props.toggleMore(false)\n        }\n    }\n\n    return (\n        props.showContent\n            ? <div style={styles.seeMoreExpanded}>\n                <SeeMoreContent close={() => props.toggleMore(false)} />\n            </div>\n            :\n            (CustomCollapsed ? <CustomCollapsed action={props.action} toggleMore={props.toggleMore} /> : <div style={styles.seeMore} onClick={(e) => {\n                e.preventDefault();\n                e.stopPropagation();\n                props.toggleMore(true)\n            }} >\n                <span style={styles.seeMoreIcon}>âŒƒ</span>\n                <span style={styles.seeMoreText}>See more</span>\n            </div>\n            )\n    )\n}\n\nconst styles: any = {\n    seeMore: {\n        height: \"10vh\",\n        background: \"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.2))\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        bottom: 0\n    },\n    seeMoreExpanded: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        boxSizing: 'border-box',\n        zIndex: 99999\n    },\n    seeMoreText: {\n        color: \"white\",\n        textAlign: \"center\",\n        letterSpacing: \"0.1em\",\n        marginBottom: \"2.2vh\",\n        textTransform: \"capitalize\",\n        opacity: \"1\",\n        fontSize: \"0.8em\",\n        transition: \"opacity 300ms ease-in-out\"\n    },\n    seeMoreIcon: {\n        color: \"white\",\n        textAlign: \"center\",\n        letterSpacing: \"0.2em\",\n        marginBottom: \"0.4vh\",\n        opacity: \"1\",\n        filter: \"drop-shadow(0 0 5px black)\",\n        textTransform: \"capitalize\",\n        transition: \"opacity 300ms ease-in-out\"\n    },\n    seeMoreClose: {\n        position: \"absolute\",\n        filter: \"drop-shadow(0 3px 2px #ccc)\",\n        right: \"0.5rem\",\n        top: \"0.5rem\",\n        fontSize: \"1.5rem\",\n        opacity: \"0.7\",\n        padding: \"1rem\"\n    }\n}","import * as React from 'react';\nimport Spinner from '../components/Spinner';\nimport { Renderer, Tester } from './../interfaces';\nimport WithHeader from './wrappers/withHeader';\nimport WithSeeMore from './wrappers/withSeeMore';\n\nexport const renderer: Renderer = ({ story, action, isPaused, config, messageHandler }) => {\n    const [loaded, setLoaded] = React.useState(false);\n    const [muted, setMuted] = React.useState(false);\n    const { width, height, loader, storyStyles } = config;\n\n    let computedStyles = {\n        ...styles.storyContent,\n        ...(storyStyles || {})\n    }\n\n    let vid = React.useRef<HTMLVideoElement>(null);\n\n    React.useEffect(() => {\n        if (vid.current) {\n            if (isPaused) {\n                vid.current.pause();\n            } else {\n                vid.current.play().catch(() => { });\n            }\n        }\n    }, [isPaused]);\n\n    const onWaiting = () => {\n        action(\"pause\", true);\n    }\n\n    const onPlaying = () => {\n        action(\"play\", true);\n    }\n\n    const videoLoaded = () => {\n        messageHandler('UPDATE_VIDEO_DURATION', { duration: vid.current.duration });\n        setLoaded(true);\n        vid.current.play().then(() => {\n            action('play');\n        }).catch(() => {\n            setMuted(true);\n            vid.current.play().finally(() => {\n                action('play');\n            })\n        });\n    }\n\n    return <WithHeader story={story} globalHeader={config.header}>\n        <WithSeeMore story={story} action={action}>\n            <div style={styles.videoContainer}>\n                <video\n                    ref={vid}\n                    style={computedStyles}\n                    src={story.url}\n                    controls={false}\n                    onLoadedData={videoLoaded}\n                    playsInline\n                    onWaiting={onWaiting}\n                    onPlaying={onPlaying}\n                    muted={muted}\n                    autoPlay\n                    webkit-playsinline=\"true\"\n                />\n                {!loaded && (\n                    <div\n                        style={{\n                            width: width,\n                            height: height,\n                            position: \"absolute\",\n                            left: 0,\n                            top: 0,\n                            background: \"rgba(0, 0, 0, 0.9)\",\n                            zIndex: 9,\n                            display: \"flex\",\n                            justifyContent: \"center\",\n                            alignItems: \"center\",\n                            color: \"#ccc\"\n                        }}\n                    >\n                        {loader || <Spinner />}\n                    </div>\n                )}\n            </div>\n        </WithSeeMore>\n    </WithHeader>\n}\n\nconst styles = {\n    storyContent: {\n        width: \"auto\",\n        maxWidth: \"100%\",\n        maxHeight: \"100%\",\n        margin: \"auto\"\n    },\n    videoContainer: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n    }\n};\n\nexport const tester: Tester = (story) => {\n    return {\n        condition: story.type === 'video',\n        priority: 2\n    }\n}\n\nexport default {\n    renderer,\n    tester\n}\n","import * as React from 'react';\nimport { Renderer, Tester } from './../interfaces';\n\nexport const renderer: Renderer = ({ story, action }) => {\n    React.useEffect(() => {\n        action('play');\n    }, [story])\n\n    return <div style={styles.storyContent}>\n        <p style={styles.text}>This story could not be loaded.</p>\n    </div>\n}\n\nconst styles = {\n    storyContent: {\n        width: \"100%\",\n        maxHeight: \"100%\",\n        margin: \"auto\"\n    },\n    text: {\n        textAlign: 'center',\n        color: 'white',\n        width: '90%',\n        margin: 'auto'\n    }\n};\n\nexport const tester: Tester = () => {\n    return {\n        condition: true,\n        priority: 1\n    };\n}\n\nexport default {\n    renderer,\n    tester\n}","import * as React from 'react';\nimport { Renderer, Tester } from './../interfaces';\n\nexport const renderer: Renderer = (props) => {\n    React.useEffect(() => {\n        props.action('play');\n    }, [props.story])\n    const Content = props.story.originalContent;\n    return <Content {...props} />\n}\n\nexport const tester: Tester = (story) => {\n    return {\n        condition: !!story.content,\n        priority: 2\n    }\n}\n\nexport default {\n    renderer,\n    tester\n}"]},"metadata":{},"sourceType":"script"}